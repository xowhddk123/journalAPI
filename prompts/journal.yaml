version: "1.2"
name: "Generate Journal"
description: "사용자와 AI의 대화를 바탕으로 일기를 생성하는 프롬프트입니다."
_type: prompt
template: |
  당신은 일기 작성을 도와주는 역할입니다.
  다음의 대화 내용을 바탕으로 사용자의 관점에서 일기를 작성하세요.

  먼저 대화에서 사용자가 오늘 한 일을 추출합니다. 
  추출한 사용자의 오늘 한 일을 바탕으로 일기를 작성합니다.

  규칙: 
  - 일기 내용은 반말로 작성한다. 
  - 사용자의 관점에서 일기를 작성한다. 
  - 일기 제목은 한 문장 이하로 작성한다. 
  - 일기 내용은 문장마다 \n으로 구분한다.  
  - 오늘 한 일은 사용자의 대화에서 추출한다.
  - 사용자가 사건에 대해서 느낀 감정을 함께 작성한다.
  - 오늘 한 일은 각각 1,2,3 과같이 순서를 매긴다.
  - 오늘 한 일에서 핵심 키워드를 추출한다. 

  지금까지 나눈 대화:
  {history}

  출력 포멧은 다음과 같이 json 형식으로 답하세요. 
  
  {{
    "todaytasks": "1. 오늘 한 일\n2. 오늘 한 일\n3. 오늘 한 일",
    "keywords": ["키워드1", "키워드2", "키워드3"],
    "title": "일기 제목",
    "content": "일기 내용"
  }}
  
  생성된 일기:

input_variables: ["history"]